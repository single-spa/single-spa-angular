{"version":3,"file":"single-spa-angular-elements.min.js","sources":["../lib/fesm2022/single-spa-angular-elements.mjs"],"sourcesContent":["import { getContainerElementAndSetTemplate } from 'single-spa-angular/internals';\n\nconst defaultOptions = {\n    element: null,\n    template: null,\n    ngModuleRefOrAppRef: null,\n    bootstrapFunction: null,\n    domElementGetter: undefined,\n};\nasync function bootstrap(options, props) {\n    if (options.ngModuleRefOrAppRef !== null) {\n        return;\n    }\n    // We call `bootstrapFunction()` inside the bootstrap lifecycle hook\n    // because Angular modules that expose custom elements should be\n    // bootstrapped only once.\n    options.ngModuleRefOrAppRef = await options.bootstrapFunction(props);\n}\nasync function mount(options, props) {\n    const containerElement = getContainerElementAndSetTemplate(options, props);\n    // `options.template` which can be `<app-element />` is not a valid selector\n    // for `document.querySelector`, thus we retrieve this custom element\n    // via this property.\n    options.element = containerElement.firstElementChild;\n}\nfunction unmount(options) {\n    return Promise.resolve().then(() => {\n        // Removing custom element from DOM is enough since it will trigger\n        // `disconnectedCallback()` and Angular will dispose all resources.\n        options.element.parentElement.removeChild(options.element);\n        options.element = null;\n    });\n}\nfunction singleSpaAngularElements(userOptions) {\n    const options = {\n        ...defaultOptions,\n        ...userOptions,\n    };\n    return {\n        bootstrap: bootstrap.bind(null, options),\n        mount: mount.bind(null, options),\n        unmount: unmount.bind(null, options),\n    };\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { singleSpaAngularElements };\n//# sourceMappingURL=single-spa-angular-elements.mjs.map\n"],"names":["defaultOptions","element","template","ngModuleRefOrAppRef","bootstrapFunction","domElementGetter","undefined","async","bootstrap","options","props","mount","containerElement","getContainerElementAndSetTemplate","firstElementChild","unmount","Promise","resolve","then","parentElement","removeChild","singleSpaAngularElements","userOptions","bind"],"mappings":"iFASA,MAAMA,EAA8D,CAClEC,QAAS,KACTC,SAAU,KACVC,oBAAqB,KACrBC,kBAAmB,KACnBC,sBAAkBC,GAGpBC,eAAeC,EAAUC,EAAsDC,GACzC,OAAhCD,EAAQN,sBAOZM,EAAQN,0BAA4BM,EAAQL,kBAAkBM,GAChE,CAEAH,eAAeI,EAAMF,EAAsDC,GACzE,MAAME,EAAmBC,EAAkCJ,EAASC,GAIpED,EAAQR,QAAUW,EAAiBE,iBACrC,CAEA,SAASC,EAAQN,GACf,OAAOO,QAAQC,UAAUC,KAAK,KAG5BT,EAAQR,QAASkB,cAAeC,YAAYX,EAAQR,SACpDQ,EAAQR,QAAU,MAEtB,CAEM,SAAUoB,EAAyBC,GACvC,MAAMb,EAAuD,IACxDT,KACAsB,GAGL,MAAO,CACLd,UAAWA,EAAUe,KAAK,KAAMd,GAChCE,MAAOA,EAAMY,KAAK,KAAMd,GACxBM,QAASA,EAAQQ,KAAK,KAAMd,GAEhC"}