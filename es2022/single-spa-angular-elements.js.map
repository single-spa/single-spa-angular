{"version":3,"file":"single-spa-angular-elements.js","sources":["../lib/fesm2022/single-spa-angular-elements.mjs"],"sourcesContent":["import { getContainerElementAndSetTemplate } from 'single-spa-angular/internals';\n\nconst defaultOptions = {\n    element: null,\n    template: null,\n    ngModuleRefOrAppRef: null,\n    bootstrapFunction: null,\n    domElementGetter: undefined,\n};\nasync function bootstrap(options, props) {\n    if (options.ngModuleRefOrAppRef !== null) {\n        return;\n    }\n    // We call `bootstrapFunction()` inside the bootstrap lifecycle hook\n    // because Angular modules that expose custom elements should be\n    // bootstrapped only once.\n    options.ngModuleRefOrAppRef = await options.bootstrapFunction(props);\n}\nasync function mount(options, props) {\n    const containerElement = getContainerElementAndSetTemplate(options, props);\n    // `options.template` which can be `<app-element />` is not a valid selector\n    // for `document.querySelector`, thus we retrieve this custom element\n    // via this property.\n    options.element = containerElement.firstElementChild;\n}\nfunction unmount(options) {\n    return Promise.resolve().then(() => {\n        // Removing custom element from DOM is enough since it will trigger\n        // `disconnectedCallback()` and Angular will dispose all resources.\n        options.element.parentElement.removeChild(options.element);\n        options.element = null;\n    });\n}\nfunction singleSpaAngularElements(userOptions) {\n    const options = {\n        ...defaultOptions,\n        ...userOptions,\n    };\n    return {\n        bootstrap: bootstrap.bind(null, options),\n        mount: mount.bind(null, options),\n        unmount: unmount.bind(null, options),\n    };\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { singleSpaAngularElements };\n//# sourceMappingURL=single-spa-angular-elements.mjs.map\n"],"names":["defaultOptions","element","template","ngModuleRefOrAppRef","bootstrapFunction","domElementGetter","undefined","bootstrap","options","props","mount","containerElement","getContainerElementAndSetTemplate","firstElementChild","unmount","Promise","resolve","then","parentElement","removeChild","singleSpaAngularElements","userOptions","bind"],"mappings":";;AASA,MAAMA,cAAc,GAAgD;AAClEC,EAAAA,OAAO,EAAE,IAAI;AACbC,EAAAA,QAAQ,EAAE,IAAK;AACfC,EAAAA,mBAAmB,EAAE,IAAI;AACzBC,EAAAA,iBAAiB,EAAE,IAAK;AACxBC,EAAAA,gBAAgB,EAAEC,SAAAA;AACnB,CAAA,CAAA;AAED,eAAeC,SAASA,CAACC,OAAoD,EAAEC,KAAU,EAAA;AACvF,EAAA,IAAID,OAAO,CAACL,mBAAmB,KAAK,IAAI,EAAE;AACxC,IAAA,OAAA;;;;;EAMFK,OAAO,CAACL,mBAAmB,GAAG,MAAMK,OAAO,CAACJ,iBAAiB,CAACK,KAAK,CAAC,CAAA;AACtE,CAAA;AAEA,eAAeC,KAAKA,CAACF,OAAoD,EAAEC,KAAU,EAAA;AACnF,EAAA,MAAME,gBAAgB,GAAGC,iCAAiC,CAACJ,OAAO,EAAEC,KAAK,CAAC,CAAA;;;;AAI1ED,EAAAA,OAAO,CAACP,OAAO,GAAGU,gBAAgB,CAACE,iBAA8B,CAAA;AACnE,CAAA;AAEA,SAASC,OAAOA,CAACN,OAAoD,EAAA;AACnE,EAAA,OAAOO,OAAO,CAACC,OAAO,EAAE,CAACC,IAAI,CAAC,MAAK;;;IAGjCT,OAAO,CAACP,OAAQ,CAACiB,aAAc,CAACC,WAAW,CAACX,OAAO,CAACP,OAAQ,CAAC,CAAA;IAC7DO,OAAO,CAACP,OAAO,GAAG,IAAI,CAAA;AACxB,GAAC,CAAC,CAAA;AACJ,CAAA;AAEM,SAAUmB,wBAAwBA,CAACC,WAAwC,EAAA;AAC/E,EAAA,MAAMb,OAAO,GAAgD;AAC3D,IAAA,GAAGR,cAAc;IACjB,GAAGqB,WAAAA;AACJ,GAAA,CAAA;EAED,OAAO;IACLd,SAAS,EAAEA,SAAS,CAACe,IAAI,CAAC,IAAI,EAAEd,OAAO,CAAC;IACxCE,KAAK,EAAEA,KAAK,CAACY,IAAI,CAAC,IAAI,EAAEd,OAAO,CAAC;AAChCM,IAAAA,OAAO,EAAEA,OAAO,CAACQ,IAAI,CAAC,IAAI,EAAEd,OAAO,CAAA;AACpC,GAAA,CAAA;AACH;;;;"}